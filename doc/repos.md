
# 为什么使用 git 进行商品管理

开过淘宝店铺的人都知道, 淘宝店铺的商品编辑功能极其难用. 只解决了有还是没有的问题, 没解决好用不好用的问题.

当你拥有大量的商品类目, 需要对上架的商品进行详尽管理的时候, 就知道只能在网页进行操作是绝对的噩梦.

# 如何使用 git 进行商品管理

当用户成为商家的时候, 他就被创建了一个空白的仓库. 他可以将这个仓库 克隆到本地, 然后使用他最喜爱的文本编辑工具进行操作. 推荐的工具是 vscode

商品仓库, 应使用如下的目录格式


```
./css
./goods
./goods/class1/good1.md
./images
./images/class1/good1_p1.png
./inc
./inc/common_description.md
```

css 目录下使用需要调节的样式设定

goods 目录下为需要售卖的商品

images 目录下为商品页面引用的图片

inc 目录下为商品页面会包含的文件

因为不少商户他们的许多产品会有很多相同描述的部分. 将共同这些部分写入 inc 文件后 包含进来, 可以减少工作量.

goods/class1/ 这样的目录结构, class1 下还可以继续套 subclass , 这些目录, 只是方便商户组织大量商品的目录结构. 实际上并不会反应到网页的展示中.

网上的展示商品时, 使用的是 good1.md 这个文件名而不包含目录. 因此要求所有的商品, 即使不在同一个目录里, 文件名也不能相同.

# 程序如何处理上传

用户使用 git push 上传仓库后, 程序会扫描 仓库, 确定没有错误后, 编译仓库的 markdown 文件, 转换为 html 文件后存入数据库. 因此主程序只对数据库负责.
并不解析 git.

如果发生错误, 则不会更新数据库. 因此商户的售卖页面依旧会是老版本的库存.

# 商品描述文件的格式 

描述文件被分成2个部分, 第一部分用 ```---``` 包起来. 文件必须以 ```---``` 开头, 元信息结束后必须以 ```---``` 结束
```
---
元信息
---

详情描述
``` 

元信息的格式为 ```属性名: 值``` 
目前已经定义的属性有 

 - title 宝贝的标题
 - price 价格
 - picture 图片
 - description 搜索结果里的简短描述
 
其中, picture 属性可以多次出现, 设置的多个图片后, 用户端可以看到轮播效果.

